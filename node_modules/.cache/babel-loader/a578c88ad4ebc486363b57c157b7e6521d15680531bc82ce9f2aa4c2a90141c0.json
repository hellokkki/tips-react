{"ast":null,"code":"var isValidSemver = require('semver/functions/valid');\nvar cleanSemver = require('semver/functions/clean');\nvar validateLicense = require('validate-npm-package-license');\nvar hostedGitInfo = require('hosted-git-info');\nvar isBuiltinModule = require('is-core-module');\nvar depTypes = ['dependencies', 'devDependencies', 'optionalDependencies'];\nvar extractDescription = require('./extract_description');\nvar url = require('url');\nvar typos = require('./typos.json');\nmodule.exports = {\n  // default warning function\n  warn: function () {},\n  fixRepositoryField: function (data) {\n    if (data.repositories) {\n      this.warn('repositories');\n      data.repository = data.repositories[0];\n    }\n    if (!data.repository) {\n      return this.warn('missingRepository');\n    }\n    if (typeof data.repository === 'string') {\n      data.repository = {\n        type: 'git',\n        url: data.repository\n      };\n    }\n    var r = data.repository.url || '';\n    if (r) {\n      var hosted = hostedGitInfo.fromUrl(r);\n      if (hosted) {\n        r = data.repository.url = hosted.getDefaultRepresentation() === 'shortcut' ? hosted.https() : hosted.toString();\n      }\n    }\n    if (r.match(/github.com\\/[^/]+\\/[^/]+\\.git\\.git$/)) {\n      this.warn('brokenGitUrl', r);\n    }\n  },\n  fixTypos: function (data) {\n    Object.keys(typos.topLevel).forEach(function (d) {\n      if (Object.prototype.hasOwnProperty.call(data, d)) {\n        this.warn('typo', d, typos.topLevel[d]);\n      }\n    }, this);\n  },\n  fixScriptsField: function (data) {\n    if (!data.scripts) {\n      return;\n    }\n    if (typeof data.scripts !== 'object') {\n      this.warn('nonObjectScripts');\n      delete data.scripts;\n      return;\n    }\n    Object.keys(data.scripts).forEach(function (k) {\n      if (typeof data.scripts[k] !== 'string') {\n        this.warn('nonStringScript');\n        delete data.scripts[k];\n      } else if (typos.script[k] && !data.scripts[typos.script[k]]) {\n        this.warn('typo', k, typos.script[k], 'scripts');\n      }\n    }, this);\n  },\n  fixFilesField: function (data) {\n    var files = data.files;\n    if (files && !Array.isArray(files)) {\n      this.warn('nonArrayFiles');\n      delete data.files;\n    } else if (data.files) {\n      data.files = data.files.filter(function (file) {\n        if (!file || typeof file !== 'string') {\n          this.warn('invalidFilename', file);\n          return false;\n        } else {\n          return true;\n        }\n      }, this);\n    }\n  },\n  fixBinField: function (data) {\n    if (!data.bin) {\n      return;\n    }\n    if (typeof data.bin === 'string') {\n      var b = {};\n      var match;\n      if (match = data.name.match(/^@[^/]+[/](.*)$/)) {\n        b[match[1]] = data.bin;\n      } else {\n        b[data.name] = data.bin;\n      }\n      data.bin = b;\n    }\n  },\n  fixManField: function (data) {\n    if (!data.man) {\n      return;\n    }\n    if (typeof data.man === 'string') {\n      data.man = [data.man];\n    }\n  },\n  fixBundleDependenciesField: function (data) {\n    var bdd = 'bundledDependencies';\n    var bd = 'bundleDependencies';\n    if (data[bdd] && !data[bd]) {\n      data[bd] = data[bdd];\n      delete data[bdd];\n    }\n    if (data[bd] && !Array.isArray(data[bd])) {\n      this.warn('nonArrayBundleDependencies');\n      delete data[bd];\n    } else if (data[bd]) {\n      data[bd] = data[bd].filter(function (bd) {\n        if (!bd || typeof bd !== 'string') {\n          this.warn('nonStringBundleDependency', bd);\n          return false;\n        } else {\n          if (!data.dependencies) {\n            data.dependencies = {};\n          }\n          if (Object.prototype.hasOwnProperty.call(data.dependencies, bd)) {\n            this.warn('nonDependencyBundleDependency', bd);\n            data.dependencies[bd] = '*';\n          }\n          return true;\n        }\n      }, this);\n    }\n  },\n  fixDependencies: function (data, strict) {\n    objectifyDeps(data, this.warn);\n    addOptionalDepsToDeps(data, this.warn);\n    this.fixBundleDependenciesField(data);\n    ['dependencies', 'devDependencies'].forEach(function (deps) {\n      if (!(deps in data)) {\n        return;\n      }\n      if (!data[deps] || typeof data[deps] !== 'object') {\n        this.warn('nonObjectDependencies', deps);\n        delete data[deps];\n        return;\n      }\n      Object.keys(data[deps]).forEach(function (d) {\n        var r = data[deps][d];\n        if (typeof r !== 'string') {\n          this.warn('nonStringDependency', d, JSON.stringify(r));\n          delete data[deps][d];\n        }\n        var hosted = hostedGitInfo.fromUrl(data[deps][d]);\n        if (hosted) {\n          data[deps][d] = hosted.toString();\n        }\n      }, this);\n    }, this);\n  },\n  fixModulesField: function (data) {\n    if (data.modules) {\n      this.warn('deprecatedModules');\n      delete data.modules;\n    }\n  },\n  fixKeywordsField: function (data) {\n    if (typeof data.keywords === 'string') {\n      data.keywords = data.keywords.split(/,\\s+/);\n    }\n    if (data.keywords && !Array.isArray(data.keywords)) {\n      delete data.keywords;\n      this.warn('nonArrayKeywords');\n    } else if (data.keywords) {\n      data.keywords = data.keywords.filter(function (kw) {\n        if (typeof kw !== 'string' || !kw) {\n          this.warn('nonStringKeyword');\n          return false;\n        } else {\n          return true;\n        }\n      }, this);\n    }\n  },\n  fixVersionField: function (data, strict) {\n    // allow \"loose\" semver 1.0 versions in non-strict mode\n    // enforce strict semver 2.0 compliance in strict mode\n    var loose = !strict;\n    if (!data.version) {\n      data.version = '';\n      return true;\n    }\n    if (!isValidSemver(data.version, loose)) {\n      throw new Error('Invalid version: \"' + data.version + '\"');\n    }\n    data.version = cleanSemver(data.version, loose);\n    return true;\n  },\n  fixPeople: function (data) {\n    modifyPeople(data, unParsePerson);\n    modifyPeople(data, parsePerson);\n  },\n  fixNameField: function (data, options) {\n    if (typeof options === 'boolean') {\n      options = {\n        strict: options\n      };\n    } else if (typeof options === 'undefined') {\n      options = {};\n    }\n    var strict = options.strict;\n    if (!data.name && !strict) {\n      data.name = '';\n      return;\n    }\n    if (typeof data.name !== 'string') {\n      throw new Error('name field must be a string.');\n    }\n    if (!strict) {\n      data.name = data.name.trim();\n    }\n    ensureValidName(data.name, strict, options.allowLegacyCase);\n    if (isBuiltinModule(data.name)) {\n      this.warn('conflictingName', data.name);\n    }\n  },\n  fixDescriptionField: function (data) {\n    if (data.description && typeof data.description !== 'string') {\n      this.warn('nonStringDescription');\n      delete data.description;\n    }\n    if (data.readme && !data.description) {\n      data.description = extractDescription(data.readme);\n    }\n    if (data.description === undefined) {\n      delete data.description;\n    }\n    if (!data.description) {\n      this.warn('missingDescription');\n    }\n  },\n  fixReadmeField: function (data) {\n    if (!data.readme) {\n      this.warn('missingReadme');\n      data.readme = 'ERROR: No README data found!';\n    }\n  },\n  fixBugsField: function (data) {\n    if (!data.bugs && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url);\n      if (hosted && hosted.bugs()) {\n        data.bugs = {\n          url: hosted.bugs()\n        };\n      }\n    } else if (data.bugs) {\n      var emailRe = /^.+@.*\\..+$/;\n      if (typeof data.bugs === 'string') {\n        if (emailRe.test(data.bugs)) {\n          data.bugs = {\n            email: data.bugs\n          };\n          /* eslint-disable-next-line node/no-deprecated-api */\n        } else if (url.parse(data.bugs).protocol) {\n          data.bugs = {\n            url: data.bugs\n          };\n        } else {\n          this.warn('nonEmailUrlBugsString');\n        }\n      } else {\n        bugsTypos(data.bugs, this.warn);\n        var oldBugs = data.bugs;\n        data.bugs = {};\n        if (oldBugs.url) {\n          /* eslint-disable-next-line node/no-deprecated-api */\n          if (typeof oldBugs.url === 'string' && url.parse(oldBugs.url).protocol) {\n            data.bugs.url = oldBugs.url;\n          } else {\n            this.warn('nonUrlBugsUrlField');\n          }\n        }\n        if (oldBugs.email) {\n          if (typeof oldBugs.email === 'string' && emailRe.test(oldBugs.email)) {\n            data.bugs.email = oldBugs.email;\n          } else {\n            this.warn('nonEmailBugsEmailField');\n          }\n        }\n      }\n      if (!data.bugs.email && !data.bugs.url) {\n        delete data.bugs;\n        this.warn('emptyNormalizedBugs');\n      }\n    }\n  },\n  fixHomepageField: function (data) {\n    if (!data.homepage && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url);\n      if (hosted && hosted.docs()) {\n        data.homepage = hosted.docs();\n      }\n    }\n    if (!data.homepage) {\n      return;\n    }\n    if (typeof data.homepage !== 'string') {\n      this.warn('nonUrlHomepage');\n      return delete data.homepage;\n    }\n    /* eslint-disable-next-line node/no-deprecated-api */\n    if (!url.parse(data.homepage).protocol) {\n      data.homepage = 'http://' + data.homepage;\n    }\n  },\n  fixLicenseField: function (data) {\n    const license = data.license || data.licence;\n    if (!license) {\n      return this.warn('missingLicense');\n    }\n    if (typeof license !== 'string' || license.length < 1 || license.trim() === '') {\n      return this.warn('invalidLicense');\n    }\n    if (!validateLicense(license).validForNewPackages) {\n      return this.warn('invalidLicense');\n    }\n  }\n};\nfunction isValidScopedPackageName(spec) {\n  if (spec.charAt(0) !== '@') {\n    return false;\n  }\n  var rest = spec.slice(1).split('/');\n  if (rest.length !== 2) {\n    return false;\n  }\n  return rest[0] && rest[1] && rest[0] === encodeURIComponent(rest[0]) && rest[1] === encodeURIComponent(rest[1]);\n}\nfunction isCorrectlyEncodedName(spec) {\n  return !spec.match(/[/@\\s+%:]/) && spec === encodeURIComponent(spec);\n}\nfunction ensureValidName(name, strict, allowLegacyCase) {\n  if (name.charAt(0) === '.' || !(isValidScopedPackageName(name) || isCorrectlyEncodedName(name)) || strict && !allowLegacyCase && name !== name.toLowerCase() || name.toLowerCase() === 'node_modules' || name.toLowerCase() === 'favicon.ico') {\n    throw new Error('Invalid name: ' + JSON.stringify(name));\n  }\n}\nfunction modifyPeople(data, fn) {\n  if (data.author) {\n    data.author = fn(data.author);\n  }\n  ['maintainers', 'contributors'].forEach(function (set) {\n    if (!Array.isArray(data[set])) {\n      return;\n    }\n    data[set] = data[set].map(fn);\n  });\n  return data;\n}\nfunction unParsePerson(person) {\n  if (typeof person === 'string') {\n    return person;\n  }\n  var name = person.name || '';\n  var u = person.url || person.web;\n  var url = u ? ' (' + u + ')' : '';\n  var e = person.email || person.mail;\n  var email = e ? ' <' + e + '>' : '';\n  return name + email + url;\n}\nfunction parsePerson(person) {\n  if (typeof person !== 'string') {\n    return person;\n  }\n  var name = person.match(/^([^(<]+)/);\n  var url = person.match(/\\(([^)]+)\\)/);\n  var email = person.match(/<([^>]+)>/);\n  var obj = {};\n  if (name && name[0].trim()) {\n    obj.name = name[0].trim();\n  }\n  if (email) {\n    obj.email = email[1];\n  }\n  if (url) {\n    obj.url = url[1];\n  }\n  return obj;\n}\nfunction addOptionalDepsToDeps(data, warn) {\n  var o = data.optionalDependencies;\n  if (!o) {\n    return;\n  }\n  var d = data.dependencies || {};\n  Object.keys(o).forEach(function (k) {\n    d[k] = o[k];\n  });\n  data.dependencies = d;\n}\nfunction depObjectify(deps, type, warn) {\n  if (!deps) {\n    return {};\n  }\n  if (typeof deps === 'string') {\n    deps = deps.trim().split(/[\\n\\r\\s\\t ,]+/);\n  }\n  if (!Array.isArray(deps)) {\n    return deps;\n  }\n  warn('deprecatedArrayDependencies', type);\n  var o = {};\n  deps.filter(function (d) {\n    return typeof d === 'string';\n  }).forEach(function (d) {\n    d = d.trim().split(/(:?[@\\s><=])/);\n    var dn = d.shift();\n    var dv = d.join('');\n    dv = dv.trim();\n    dv = dv.replace(/^@/, '');\n    o[dn] = dv;\n  });\n  return o;\n}\nfunction objectifyDeps(data, warn) {\n  depTypes.forEach(function (type) {\n    if (!data[type]) {\n      return;\n    }\n    data[type] = depObjectify(data[type], type, warn);\n  });\n}\nfunction bugsTypos(bugs, warn) {\n  if (!bugs) {\n    return;\n  }\n  Object.keys(bugs).forEach(function (k) {\n    if (typos.bugs[k]) {\n      warn('typo', k, typos.bugs[k], 'bugs');\n      bugs[typos.bugs[k]] = bugs[k];\n      delete bugs[k];\n    }\n  });\n}","map":{"version":3,"names":["isValidSemver","require","cleanSemver","validateLicense","hostedGitInfo","isBuiltinModule","depTypes","extractDescription","url","typos","module","exports","warn","fixRepositoryField","data","repositories","repository","type","r","hosted","fromUrl","getDefaultRepresentation","https","toString","match","fixTypos","Object","keys","topLevel","forEach","d","prototype","hasOwnProperty","call","fixScriptsField","scripts","k","script","fixFilesField","files","Array","isArray","filter","file","fixBinField","bin","b","name","fixManField","man","fixBundleDependenciesField","bdd","bd","dependencies","fixDependencies","strict","objectifyDeps","addOptionalDepsToDeps","deps","JSON","stringify","fixModulesField","modules","fixKeywordsField","keywords","split","kw","fixVersionField","loose","version","Error","fixPeople","modifyPeople","unParsePerson","parsePerson","fixNameField","options","trim","ensureValidName","allowLegacyCase","fixDescriptionField","description","readme","undefined","fixReadmeField","fixBugsField","bugs","emailRe","test","email","parse","protocol","bugsTypos","oldBugs","fixHomepageField","homepage","docs","fixLicenseField","license","licence","length","validForNewPackages","isValidScopedPackageName","spec","charAt","rest","slice","encodeURIComponent","isCorrectlyEncodedName","toLowerCase","fn","author","set","map","person","u","web","e","mail","obj","o","optionalDependencies","depObjectify","dn","shift","dv","join","replace"],"sources":["/Users/viktorkondakov/Desktop/programming/projects/tips-react/node_modules/normalize-package-data/lib/fixer.js"],"sourcesContent":["var isValidSemver = require('semver/functions/valid')\nvar cleanSemver = require('semver/functions/clean')\nvar validateLicense = require('validate-npm-package-license')\nvar hostedGitInfo = require('hosted-git-info')\nvar isBuiltinModule = require('is-core-module')\nvar depTypes = ['dependencies', 'devDependencies', 'optionalDependencies']\nvar extractDescription = require('./extract_description')\nvar url = require('url')\nvar typos = require('./typos.json')\n\nmodule.exports = {\n  // default warning function\n  warn: function () {},\n\n  fixRepositoryField: function (data) {\n    if (data.repositories) {\n      this.warn('repositories')\n      data.repository = data.repositories[0]\n    }\n    if (!data.repository) {\n      return this.warn('missingRepository')\n    }\n    if (typeof data.repository === 'string') {\n      data.repository = {\n        type: 'git',\n        url: data.repository,\n      }\n    }\n    var r = data.repository.url || ''\n    if (r) {\n      var hosted = hostedGitInfo.fromUrl(r)\n      if (hosted) {\n        r = data.repository.url\n          = hosted.getDefaultRepresentation() === 'shortcut' ? hosted.https() : hosted.toString()\n      }\n    }\n\n    if (r.match(/github.com\\/[^/]+\\/[^/]+\\.git\\.git$/)) {\n      this.warn('brokenGitUrl', r)\n    }\n  },\n\n  fixTypos: function (data) {\n    Object.keys(typos.topLevel).forEach(function (d) {\n      if (Object.prototype.hasOwnProperty.call(data, d)) {\n        this.warn('typo', d, typos.topLevel[d])\n      }\n    }, this)\n  },\n\n  fixScriptsField: function (data) {\n    if (!data.scripts) {\n      return\n    }\n    if (typeof data.scripts !== 'object') {\n      this.warn('nonObjectScripts')\n      delete data.scripts\n      return\n    }\n    Object.keys(data.scripts).forEach(function (k) {\n      if (typeof data.scripts[k] !== 'string') {\n        this.warn('nonStringScript')\n        delete data.scripts[k]\n      } else if (typos.script[k] && !data.scripts[typos.script[k]]) {\n        this.warn('typo', k, typos.script[k], 'scripts')\n      }\n    }, this)\n  },\n\n  fixFilesField: function (data) {\n    var files = data.files\n    if (files && !Array.isArray(files)) {\n      this.warn('nonArrayFiles')\n      delete data.files\n    } else if (data.files) {\n      data.files = data.files.filter(function (file) {\n        if (!file || typeof file !== 'string') {\n          this.warn('invalidFilename', file)\n          return false\n        } else {\n          return true\n        }\n      }, this)\n    }\n  },\n\n  fixBinField: function (data) {\n    if (!data.bin) {\n      return\n    }\n    if (typeof data.bin === 'string') {\n      var b = {}\n      var match\n      if (match = data.name.match(/^@[^/]+[/](.*)$/)) {\n        b[match[1]] = data.bin\n      } else {\n        b[data.name] = data.bin\n      }\n      data.bin = b\n    }\n  },\n\n  fixManField: function (data) {\n    if (!data.man) {\n      return\n    }\n    if (typeof data.man === 'string') {\n      data.man = [data.man]\n    }\n  },\n  fixBundleDependenciesField: function (data) {\n    var bdd = 'bundledDependencies'\n    var bd = 'bundleDependencies'\n    if (data[bdd] && !data[bd]) {\n      data[bd] = data[bdd]\n      delete data[bdd]\n    }\n    if (data[bd] && !Array.isArray(data[bd])) {\n      this.warn('nonArrayBundleDependencies')\n      delete data[bd]\n    } else if (data[bd]) {\n      data[bd] = data[bd].filter(function (bd) {\n        if (!bd || typeof bd !== 'string') {\n          this.warn('nonStringBundleDependency', bd)\n          return false\n        } else {\n          if (!data.dependencies) {\n            data.dependencies = {}\n          }\n          if (Object.prototype.hasOwnProperty.call(data.dependencies, bd)) {\n            this.warn('nonDependencyBundleDependency', bd)\n            data.dependencies[bd] = '*'\n          }\n          return true\n        }\n      }, this)\n    }\n  },\n\n  fixDependencies: function (data, strict) {\n    objectifyDeps(data, this.warn)\n    addOptionalDepsToDeps(data, this.warn)\n    this.fixBundleDependenciesField(data)\n\n    ;['dependencies', 'devDependencies'].forEach(function (deps) {\n      if (!(deps in data)) {\n        return\n      }\n      if (!data[deps] || typeof data[deps] !== 'object') {\n        this.warn('nonObjectDependencies', deps)\n        delete data[deps]\n        return\n      }\n      Object.keys(data[deps]).forEach(function (d) {\n        var r = data[deps][d]\n        if (typeof r !== 'string') {\n          this.warn('nonStringDependency', d, JSON.stringify(r))\n          delete data[deps][d]\n        }\n        var hosted = hostedGitInfo.fromUrl(data[deps][d])\n        if (hosted) {\n          data[deps][d] = hosted.toString()\n        }\n      }, this)\n    }, this)\n  },\n\n  fixModulesField: function (data) {\n    if (data.modules) {\n      this.warn('deprecatedModules')\n      delete data.modules\n    }\n  },\n\n  fixKeywordsField: function (data) {\n    if (typeof data.keywords === 'string') {\n      data.keywords = data.keywords.split(/,\\s+/)\n    }\n    if (data.keywords && !Array.isArray(data.keywords)) {\n      delete data.keywords\n      this.warn('nonArrayKeywords')\n    } else if (data.keywords) {\n      data.keywords = data.keywords.filter(function (kw) {\n        if (typeof kw !== 'string' || !kw) {\n          this.warn('nonStringKeyword')\n          return false\n        } else {\n          return true\n        }\n      }, this)\n    }\n  },\n\n  fixVersionField: function (data, strict) {\n    // allow \"loose\" semver 1.0 versions in non-strict mode\n    // enforce strict semver 2.0 compliance in strict mode\n    var loose = !strict\n    if (!data.version) {\n      data.version = ''\n      return true\n    }\n    if (!isValidSemver(data.version, loose)) {\n      throw new Error('Invalid version: \"' + data.version + '\"')\n    }\n    data.version = cleanSemver(data.version, loose)\n    return true\n  },\n\n  fixPeople: function (data) {\n    modifyPeople(data, unParsePerson)\n    modifyPeople(data, parsePerson)\n  },\n\n  fixNameField: function (data, options) {\n    if (typeof options === 'boolean') {\n      options = {strict: options}\n    } else if (typeof options === 'undefined') {\n      options = {}\n    }\n    var strict = options.strict\n    if (!data.name && !strict) {\n      data.name = ''\n      return\n    }\n    if (typeof data.name !== 'string') {\n      throw new Error('name field must be a string.')\n    }\n    if (!strict) {\n      data.name = data.name.trim()\n    }\n    ensureValidName(data.name, strict, options.allowLegacyCase)\n    if (isBuiltinModule(data.name)) {\n      this.warn('conflictingName', data.name)\n    }\n  },\n\n  fixDescriptionField: function (data) {\n    if (data.description && typeof data.description !== 'string') {\n      this.warn('nonStringDescription')\n      delete data.description\n    }\n    if (data.readme && !data.description) {\n      data.description = extractDescription(data.readme)\n    }\n    if (data.description === undefined) {\n      delete data.description\n    }\n    if (!data.description) {\n      this.warn('missingDescription')\n    }\n  },\n\n  fixReadmeField: function (data) {\n    if (!data.readme) {\n      this.warn('missingReadme')\n      data.readme = 'ERROR: No README data found!'\n    }\n  },\n\n  fixBugsField: function (data) {\n    if (!data.bugs && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url)\n      if (hosted && hosted.bugs()) {\n        data.bugs = {url: hosted.bugs()}\n      }\n    } else if (data.bugs) {\n      var emailRe = /^.+@.*\\..+$/\n      if (typeof data.bugs === 'string') {\n        if (emailRe.test(data.bugs)) {\n          data.bugs = {email: data.bugs}\n        /* eslint-disable-next-line node/no-deprecated-api */\n        } else if (url.parse(data.bugs).protocol) {\n          data.bugs = {url: data.bugs}\n        } else {\n          this.warn('nonEmailUrlBugsString')\n        }\n      } else {\n        bugsTypos(data.bugs, this.warn)\n        var oldBugs = data.bugs\n        data.bugs = {}\n        if (oldBugs.url) {\n          /* eslint-disable-next-line node/no-deprecated-api */\n          if (typeof (oldBugs.url) === 'string' && url.parse(oldBugs.url).protocol) {\n            data.bugs.url = oldBugs.url\n          } else {\n            this.warn('nonUrlBugsUrlField')\n          }\n        }\n        if (oldBugs.email) {\n          if (typeof (oldBugs.email) === 'string' && emailRe.test(oldBugs.email)) {\n            data.bugs.email = oldBugs.email\n          } else {\n            this.warn('nonEmailBugsEmailField')\n          }\n        }\n      }\n      if (!data.bugs.email && !data.bugs.url) {\n        delete data.bugs\n        this.warn('emptyNormalizedBugs')\n      }\n    }\n  },\n\n  fixHomepageField: function (data) {\n    if (!data.homepage && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url)\n      if (hosted && hosted.docs()) {\n        data.homepage = hosted.docs()\n      }\n    }\n    if (!data.homepage) {\n      return\n    }\n\n    if (typeof data.homepage !== 'string') {\n      this.warn('nonUrlHomepage')\n      return delete data.homepage\n    }\n    /* eslint-disable-next-line node/no-deprecated-api */\n    if (!url.parse(data.homepage).protocol) {\n      data.homepage = 'http://' + data.homepage\n    }\n  },\n\n  fixLicenseField: function (data) {\n    const license = data.license || data.licence\n    if (!license) {\n      return this.warn('missingLicense')\n    }\n    if (\n      typeof (license) !== 'string' ||\n      license.length < 1 ||\n      license.trim() === ''\n    ) {\n      return this.warn('invalidLicense')\n    }\n    if (!validateLicense(license).validForNewPackages) {\n      return this.warn('invalidLicense')\n    }\n  },\n}\n\nfunction isValidScopedPackageName (spec) {\n  if (spec.charAt(0) !== '@') {\n    return false\n  }\n\n  var rest = spec.slice(1).split('/')\n  if (rest.length !== 2) {\n    return false\n  }\n\n  return rest[0] && rest[1] &&\n    rest[0] === encodeURIComponent(rest[0]) &&\n    rest[1] === encodeURIComponent(rest[1])\n}\n\nfunction isCorrectlyEncodedName (spec) {\n  return !spec.match(/[/@\\s+%:]/) &&\n    spec === encodeURIComponent(spec)\n}\n\nfunction ensureValidName (name, strict, allowLegacyCase) {\n  if (name.charAt(0) === '.' ||\n      !(isValidScopedPackageName(name) || isCorrectlyEncodedName(name)) ||\n      (strict && (!allowLegacyCase) && name !== name.toLowerCase()) ||\n      name.toLowerCase() === 'node_modules' ||\n      name.toLowerCase() === 'favicon.ico') {\n    throw new Error('Invalid name: ' + JSON.stringify(name))\n  }\n}\n\nfunction modifyPeople (data, fn) {\n  if (data.author) {\n    data.author = fn(data.author)\n  }['maintainers', 'contributors'].forEach(function (set) {\n    if (!Array.isArray(data[set])) {\n      return\n    }\n    data[set] = data[set].map(fn)\n  })\n  return data\n}\n\nfunction unParsePerson (person) {\n  if (typeof person === 'string') {\n    return person\n  }\n  var name = person.name || ''\n  var u = person.url || person.web\n  var url = u ? (' (' + u + ')') : ''\n  var e = person.email || person.mail\n  var email = e ? (' <' + e + '>') : ''\n  return name + email + url\n}\n\nfunction parsePerson (person) {\n  if (typeof person !== 'string') {\n    return person\n  }\n  var name = person.match(/^([^(<]+)/)\n  var url = person.match(/\\(([^)]+)\\)/)\n  var email = person.match(/<([^>]+)>/)\n  var obj = {}\n  if (name && name[0].trim()) {\n    obj.name = name[0].trim()\n  }\n  if (email) {\n    obj.email = email[1]\n  }\n  if (url) {\n    obj.url = url[1]\n  }\n  return obj\n}\n\nfunction addOptionalDepsToDeps (data, warn) {\n  var o = data.optionalDependencies\n  if (!o) {\n    return\n  }\n  var d = data.dependencies || {}\n  Object.keys(o).forEach(function (k) {\n    d[k] = o[k]\n  })\n  data.dependencies = d\n}\n\nfunction depObjectify (deps, type, warn) {\n  if (!deps) {\n    return {}\n  }\n  if (typeof deps === 'string') {\n    deps = deps.trim().split(/[\\n\\r\\s\\t ,]+/)\n  }\n  if (!Array.isArray(deps)) {\n    return deps\n  }\n  warn('deprecatedArrayDependencies', type)\n  var o = {}\n  deps.filter(function (d) {\n    return typeof d === 'string'\n  }).forEach(function (d) {\n    d = d.trim().split(/(:?[@\\s><=])/)\n    var dn = d.shift()\n    var dv = d.join('')\n    dv = dv.trim()\n    dv = dv.replace(/^@/, '')\n    o[dn] = dv\n  })\n  return o\n}\n\nfunction objectifyDeps (data, warn) {\n  depTypes.forEach(function (type) {\n    if (!data[type]) {\n      return\n    }\n    data[type] = depObjectify(data[type], type, warn)\n  })\n}\n\nfunction bugsTypos (bugs, warn) {\n  if (!bugs) {\n    return\n  }\n  Object.keys(bugs).forEach(function (k) {\n    if (typos.bugs[k]) {\n      warn('typo', k, typos.bugs[k], 'bugs')\n      bugs[typos.bugs[k]] = bugs[k]\n      delete bugs[k]\n    }\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}